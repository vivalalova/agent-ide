# Agent IDE

> ğŸ“ æœ¬æ–‡ä»¶ç”± AI Agent ç”Ÿæˆ

ç‚º AI ä»£ç†è¨­è¨ˆçš„ç¨‹å¼ç¢¼æ™ºèƒ½å·¥å…·é›†ï¼Œæä¾›ç´¢å¼•ã€æœå°‹ã€é‡æ§‹ã€ä¾è³´åˆ†æç­‰åŠŸèƒ½ã€‚

## ğŸš€ å¿«é€Ÿé–‹å§‹

### MCP æ•´åˆï¼ˆClaude Code / Claude Desktopï¼‰

**Claude Codeï¼ˆæ¨è–¦ï¼‰ï¼š**
```bash
claude mcp add agent-ide -- npx -y agent-ide-mcp
```

å®‰è£å®Œæˆå¾Œï¼š
1. é‡æ–°å•Ÿå‹• Claude Code
2. è¼¸å…¥ã€Œè«‹åˆ—å‡ºæ‰€æœ‰å¯ç”¨çš„ agent-ide å·¥å…·ã€é©—è­‰å®‰è£
3. é–‹å§‹ä½¿ç”¨ï¼

<details>
<summary>æ‰‹å‹•è¨­å®š MCPï¼ˆClaude Desktop / å…¶ä»–ï¼‰</summary>

ç·¨è¼¯è¨­å®šæª”ï¼š
- **Claude Desktop**: `~/Library/Application Support/Claude/claude_desktop_config.json` (macOS) æˆ– `%APPDATA%/Claude/claude_desktop_config.json` (Windows)
- **Claude Code**: ä½¿ç”¨ `claude mcp add` å‘½ä»¤ï¼ˆè‡ªå‹•è¨­å®šï¼‰

åŠ å…¥ä»¥ä¸‹è¨­å®šï¼š
```json
{
  "mcpServers": {
    "agent-ide": {
      "command": "npx",
      "args": ["-y", "agent-ide-mcp"],
      "env": {}
    }
  }
}
```

**å…¶ä»–ç®¡ç†å‘½ä»¤**ï¼š
```bash
# åˆ—å‡ºæ‰€æœ‰ MCP servers
claude mcp list

# ç§»é™¤ MCP server
claude mcp remove agent-ide

# æª¢æŸ¥é€£æ¥ç‹€æ…‹
claude mcp list
```
</details>

### CLI å®‰è£ï¼ˆç¨ç«‹ä½¿ç”¨ï¼‰

```bash
# å¾ npmï¼ˆç™¼å¸ƒå¾Œï¼‰
npm install -g agent-ide

# å¾åŸå§‹ç¢¼
git clone https://github.com/vivalalova/agent-ide.git
cd agent-ide
pnpm install && pnpm build && npm link
```

### å¯ç”¨å·¥å…·

| å·¥å…·             | åŠŸèƒ½                                   |
| ---------------- | -------------------------------------- |
| `code_index`     | å»ºç«‹ç¨‹å¼ç¢¼ç´¢å¼•                         |
| `code_search`    | æœå°‹ç¬¦è™Ÿã€æ–‡å­—                         |
| `code_rename`    | é‡æ–°å‘½åç¬¦è™Ÿ                           |
| `code_move`      | ç§»å‹•æª”æ¡ˆä¸¦æ›´æ–° import                  |
| `code_analyze`   | åˆ†æç¨‹å¼ç¢¼å“è³ª                         |
| `code_deps`      | ä¾è³´é—œä¿‚åˆ†æ                           |
| `code_shit`      | åƒåœ¾åº¦è©•åˆ†ï¼ˆåˆ†æ•¸è¶Šé«˜è¶Šç³Ÿï¼Œå«ä¿®å¾©å»ºè­°ï¼‰ |
| `parser_plugins` | Parser æ’ä»¶ç®¡ç†                        |

---

<details>
<summary>ğŸ“‹ AI Agent ä½¿ç”¨æŒ‡å—ï¼ˆCLAUDE.md æç¤ºè©ï¼‰</summary>

> **æ³¨æ„**ï¼šæ­¤æŒ‡å—é©ç”¨æ–¼é€é CLI ä½¿ç”¨ agent-ide çš„æƒ…å¢ƒã€‚
> - å¦‚æœä½ å·²é€é MCP æ•´åˆï¼Œå‰‡å¯ç›´æ¥ä½¿ç”¨ `code_index`ã€`code_search` ç­‰ MCP å·¥å…·ï¼Œç„¡éœ€ä½¿ç”¨é€™äº› CLI å‘½ä»¤ã€‚
> - å¦‚æœæœªå®‰è£ MCP æˆ–éœ€è¦ç¨ç«‹ä½¿ç”¨ï¼Œè«‹è¤‡è£½ä»¥ä¸‹å…§å®¹åˆ°ä½ çš„ `CLAUDE.md` æˆ– `.claude/CLAUDE.md`ã€‚

````markdown
# agent-ide CLI å·¥å…·ä½¿ç”¨è¦ç¯„

## æ ¸å¿ƒåŠŸèƒ½

agent-ide æä¾›ç¨‹å¼ç¢¼ç´¢å¼•ã€æœå°‹ã€é‡æ§‹ã€ä¾è³´åˆ†æç­‰åŠŸèƒ½ã€‚æ‰€æœ‰å‘½ä»¤æ”¯æ´ `--format json` è¼¸å‡ºã€‚

## ç›¸æ¯” Claude Code åŸç”Ÿå·¥å…·çš„å„ªå‹¢

agent-ide åœ¨ä»¥ä¸‹å ´æ™¯ä¸­æ¯”åŸç”Ÿå·¥å…·ï¼ˆGrepã€Readã€Editï¼‰æ›´é«˜æ•ˆï¼š

1. **è·¨æª”æ¡ˆç¬¦è™Ÿé‡å‘½å**ï¼šä¸€æ¬¡å‘½ä»¤æ›´æ–°æ‰€æœ‰å¼•ç”¨ï¼ŒåŸç”Ÿå·¥å…·éœ€è¦æ‰‹å‹• Edit æ¯å€‹æª”æ¡ˆ
2. **è‡ªå‹•æ›´æ–° import è·¯å¾‘**ï¼šç§»å‹•æª”æ¡ˆæ™‚è‡ªå‹•è™•ç†æ‰€æœ‰ import èªå¥ï¼Œé¿å…æ‰‹å‹•è¿½è¹¤
3. **ä¾è³´é—œä¿‚åˆ†æ**ï¼šå¿«é€Ÿæ‰¾å‡ºå¾ªç’°ä¾è³´å’Œå½±éŸ¿ç¯„åœï¼ŒåŸç”Ÿå·¥å…·éœ€è¦æ‰‹å‹•è¿½è¹¤
4. **ç¨‹å¼ç¢¼å“è³ªåˆ†æ**ï¼šä¸€æ¬¡æƒæç²å¾—è¤‡é›œåº¦ã€æ­»ä»£ç¢¼ç­‰æŒ‡æ¨™ï¼Œç¯€çœå¤šæ¬¡æª”æ¡ˆè®€å–
5. **çµ±ä¸€ JSON è¼¸å‡º**ï¼šçµæ§‹åŒ–è³‡æ–™æ˜“æ–¼è§£æå’Œè‡ªå‹•åŒ–è™•ç†
6. **æ‰¹é‡æ“ä½œ**ï¼šä¸€æ¬¡è™•ç†æ•¸åå€‹æª”æ¡ˆï¼Œé¿å…é‡è¤‡åŸ·è¡Œå‘½ä»¤

**ä½¿ç”¨å»ºè­°**ï¼šé‡æ§‹ã€ç§»å‹•æª”æ¡ˆã€ä¾è³´åˆ†ææ™‚å„ªå…ˆä½¿ç”¨ agent-ideï¼›ç°¡å–®çš„æª”æ¡ˆè®€å¯«ç¹¼çºŒä½¿ç”¨åŸç”Ÿå·¥å…·ã€‚

## ä½¿ç”¨å ´æ™¯èˆ‡å‘½ä»¤

### 1. ç¨‹å¼ç¢¼æœå°‹ï¼ˆå„ªå…ˆä½¿ç”¨ï¼‰
```bash
# æœå°‹ç¬¦è™Ÿ/æ–‡å­—ï¼ˆJSON è¼¸å‡ºæ–¹ä¾¿è§£æï¼‰
npx agent-ide search "UserService" --format json

# æ­£è¦è¡¨é”å¼æœå°‹
npx agent-ide search "function.*User" --type regex --format json

# é™åˆ¶çµæœæ•¸é‡
npx agent-ide search "import" --limit 10 --format json
```

### 2. ç¬¦è™Ÿé‡æ–°å‘½åï¼ˆè®Šæ•¸æ”¹åæ™‚å¼·åˆ¶ä½¿ç”¨ï¼‰
**ğŸš¨ é‡è¦ï¼šè®Šæ•¸/å‡½æ•¸/é¡åˆ¥æ”¹åæ™‚å¿…é ˆä½¿ç”¨æ­¤å·¥å…·ï¼Œç¦æ­¢æ‰‹å‹•é€ä¸€ä¿®æ”¹**

```bash
# é è¦½è®Šæ›´ï¼ˆæŸ¥çœ‹å½±éŸ¿ç¯„åœï¼‰
npx agent-ide rename --from oldName --to newName --preview

# åŸ·è¡Œé‡æ–°å‘½åï¼ˆä¸€æ¬¡æ›´æ–°æ‰€æœ‰å¼•ç”¨ï¼‰
npx agent-ide rename --from oldName --to newName
```

**å„ªå‹¢**ï¼šè‡ªå‹•æ›´æ–°æ‰€æœ‰æª”æ¡ˆä¸­çš„å¼•ç”¨ï¼Œé¿å…éºæ¼æˆ–æ‰‹å‹•ä¿®æ”¹éŒ¯èª¤

### 3. æª”æ¡ˆç§»å‹•ï¼ˆè‡ªå‹•æ›´æ–° importï¼Œå¼·åˆ¶ä½¿ç”¨ï¼‰
**ğŸš¨ é‡è¦ï¼šç§»å‹•æª”æ¡ˆæ™‚å¿…é ˆä½¿ç”¨æ­¤å·¥å…·ï¼Œç¦æ­¢æ‰‹å‹•ç§»å‹•å¾Œé€ä¸€ä¿®æ”¹ import**

```bash
# é è¦½å½±éŸ¿ç¯„åœï¼ˆæŸ¥çœ‹å“ªäº›æª”æ¡ˆçš„ import æœƒè¢«æ›´æ–°ï¼‰
npx agent-ide move src/old.ts src/new.ts --preview

# ç§»å‹•æª”æ¡ˆä¸¦è‡ªå‹•æ›´æ–°æ‰€æœ‰ import è·¯å¾‘
npx agent-ide move src/old.ts src/new.ts
```

**å„ªå‹¢**ï¼šè‡ªå‹•è™•ç†æ‰€æœ‰æª”æ¡ˆçš„ import è·¯å¾‘æ›´æ–°ï¼Œé¿å…éºæ¼æˆ–è·¯å¾‘éŒ¯èª¤

### 4. ç¨‹å¼ç¢¼å“è³ªåˆ†æï¼ˆå„ªå…ˆä½¿ç”¨ï¼‰
**ğŸ’¡ å„ªå…ˆæ–¼æ‰‹å‹•æª¢æŸ¥ï¼šä¸€æ¬¡æƒæç²å¾—å®Œæ•´æŒ‡æ¨™ï¼Œé¿å…å¤šæ¬¡è®€å–æª”æ¡ˆ**

```bash
# è¤‡é›œåº¦åˆ†æï¼ˆé è¨­åªé¡¯ç¤ºé«˜è¤‡é›œåº¦æª”æ¡ˆï¼‰
npx agent-ide analyze complexity --format json

# é¡¯ç¤ºæ‰€æœ‰æª”æ¡ˆçš„è¤‡é›œåº¦
npx agent-ide analyze complexity --format json --all

# æ­»ä»£ç¢¼æª¢æ¸¬ï¼ˆé è¨­åªé¡¯ç¤ºæœ‰æ­»ä»£ç¢¼çš„æª”æ¡ˆï¼‰
npx agent-ide analyze dead-code --format json

# é¡¯ç¤ºæ‰€æœ‰æƒæçš„æª”æ¡ˆï¼ˆåŒ…å«æ²’å•é¡Œçš„ï¼‰
npx agent-ide analyze dead-code --format json --all

# æœ€ä½³å¯¦è¸æª¢æŸ¥
npx agent-ide analyze best-practices --format json
```

**å„ªå‹¢**ï¼šçµæ§‹åŒ–è¼¸å‡ºã€æ‰¹é‡åˆ†æã€æ¶µè“‹å¤šå€‹å“è³ªç¶­åº¦ã€é è¨­åªé¡¯ç¤ºæœ‰å•é¡Œçš„é …ç›®ç¯€çœ token

### 5. ä¾è³´é—œä¿‚åˆ†æï¼ˆå„ªå…ˆä½¿ç”¨ï¼‰
**ğŸ’¡ å„ªå…ˆæ–¼æ‰‹å‹•è¿½è¹¤ï¼šå¿«é€Ÿæ‰¾å‡ºå¾ªç’°ä¾è³´å’Œå½±éŸ¿ç¯„åœï¼Œé¿å…é€æª”è¿½è¹¤ import**

```bash
# åˆ†æä¾è³´é—œä¿‚ï¼ˆé è¨­åªé¡¯ç¤ºå¾ªç’°ä¾è³´å’Œå­¤ç«‹æª”æ¡ˆï¼‰
npx agent-ide deps --format json

# é¡¯ç¤ºå®Œæ•´ä¾è³´åœ–ï¼ˆåŒ…å« nodes å’Œ edgesï¼‰
npx agent-ide deps --format json --all

# æŸ¥è©¢ç‰¹å®šæª”æ¡ˆçš„ä¾è³´
npx agent-ide deps --file src/service.ts --format json
```

**å„ªå‹¢**ï¼šè¦–è¦ºåŒ–ä¾è³´é—œä¿‚ã€è‡ªå‹•æª¢æ¸¬å¾ªç’°ä¾è³´ã€å½±éŸ¿ç¯„åœåˆ†æã€é è¨­åªé¡¯ç¤ºå•é¡Œç¯€çœ token

### 6. åƒåœ¾åº¦è©•åˆ†ï¼ˆç¶œåˆå“è³ªè©•ä¼°ï¼‰
**ğŸ’© ä¸€æ¬¡æƒæç²å¾—å®Œæ•´åƒåœ¾åº¦è©•åˆ†ï¼šåˆ†æ•¸è¶Šé«˜è¶Šç³Ÿï¼Œè‡ªå‹•ç”¢ç”Ÿä¿®å¾©å»ºè­°**

```bash
# åŸºæœ¬è©•åˆ†ï¼ˆ0-100åˆ†ï¼Œåˆ†æ•¸è¶Šé«˜è¶Šç³Ÿç³•ï¼‰
npx agent-ide shit --format json

# è©³ç´°åˆ†æï¼ˆåŒ…å« topShit å’Œ recommendationsï¼‰
npx agent-ide shit --detailed --format json

# é¡¯ç¤ºå‰ 20 å€‹æœ€ç³Ÿé …ç›®
npx agent-ide shit --detailed --top=20 --format json

# CI/CD é–€æª»æª¢æŸ¥ï¼ˆè¶…é 70 åˆ†å‰‡å¤±æ•—ï¼‰
npx agent-ide shit --max-allowed=70
```

**è©•åˆ†ç¶­åº¦**ï¼š
- **è¤‡é›œåº¦åƒåœ¾**ï¼ˆ35%ï¼‰ï¼šé«˜åœˆè¤‡é›œåº¦ã€é•·å‡½å¼ã€æ·±å±¤å·¢ç‹€ã€éå¤šåƒæ•¸
- **ç¶­è­·æ€§åƒåœ¾**ï¼ˆ35%ï¼‰ï¼šæ­»ä»£ç¢¼ã€è¶…å¤§æª”æ¡ˆ
- **æ¶æ§‹åƒåœ¾**ï¼ˆ30%ï¼‰ï¼šå¾ªç’°ä¾è³´ã€å­¤ç«‹æª”æ¡ˆã€é«˜è€¦åˆ

**è©•ç´šç³»çµ±**ï¼š
- âœ… A (0-29)ï¼šå„ªç§€
- âš ï¸ B (30-49)ï¼šè‰¯å¥½
- ğŸ’© C (50-69)ï¼šéœ€é‡æ§‹
- ğŸ’©ğŸ’© D (70-84)ï¼šå¼·çƒˆå»ºè­°é‡æ§‹
- ğŸ’©ğŸ’©ğŸ’© F (85-100)ï¼šå»ºè­°é‡å¯«

**å„ªå‹¢**ï¼šç¶œåˆè©•ä¼°ã€å…·é«”å»ºè­°ã€CI/CD æ•´åˆã€token æ•ˆç‡é«˜

### 7. ç¨‹å¼ç¢¼é‡æ§‹ï¼ˆå„ªå…ˆä½¿ç”¨ï¼‰
**ğŸ’¡ å„ªå…ˆæ–¼æ‰‹å‹•é‡æ§‹ï¼šè‡ªå‹•è™•ç†è¤‡é›œé‡æ§‹æ“ä½œï¼Œé¿å…æ‰‹å‹•è¤‡è£½è²¼ä¸Šå’Œä¿®æ”¹**

```bash
# æå–å‡½å¼
npx agent-ide refactor extract-function \
  --file src/app.ts \
  --start-line 10 \
  --end-line 20 \
  --function-name handleUser
```

**å„ªå‹¢**ï¼šä¿æŒç¨‹å¼ç¢¼çµæ§‹å®Œæ•´æ€§ã€è‡ªå‹•è™•ç†è®Šæ•¸ä½œç”¨åŸŸã€æ¸›å°‘äººç‚ºéŒ¯èª¤

## ä½¿ç”¨å»ºè­°

- **npx åŸ·è¡Œ**ï¼šç„¡éœ€å…¨åŸŸå®‰è£ï¼Œç›´æ¥ä½¿ç”¨ `npx agent-ide` åŸ·è¡Œå‘½ä»¤
- **JSON æ ¼å¼å„ªå…ˆ**ï¼šéœ€è¦è§£æçµæœæ™‚ä½¿ç”¨ `--format json`
- **é è¦½æ¨¡å¼**ï¼šé‡æ§‹/ç§»å‹•å‰å…ˆç”¨ `--preview` ç¢ºèªå½±éŸ¿ç¯„åœ
- **æœå°‹å„ªå…ˆæ–¼ç´¢å¼•**ï¼šsearch å‘½ä»¤æœƒè‡ªå‹•è™•ç†ç´¢å¼•ï¼Œç„¡éœ€æ‰‹å‹•åŸ·è¡Œ index
- **é™åˆ¶çµæœæ•¸é‡**ï¼šå¤§å‹å°ˆæ¡ˆä½¿ç”¨ `--limit` é¿å…è¼¸å‡ºéå¤š
````

</details>

---

<details>
<summary>ğŸ—ï¸ æ¶æ§‹</summary>

```
Agent IDE
â”œâ”€â”€ æ ¸å¿ƒæ¨¡çµ„ï¼šç´¢å¼•ã€æœå°‹ã€é‡æ§‹ã€ç§»å‹•ã€ä¾è³´åˆ†æ
â”œâ”€â”€ åŸºç¤è¨­æ–½ï¼šParser æ¡†æ¶ã€å¿«å–ã€å„²å­˜
â”œâ”€â”€ æ’ä»¶ç³»çµ±ï¼šTypeScriptã€JavaScript
â””â”€â”€ ä»‹é¢å±¤ï¼šCLIã€MCP
```

**æ•ˆèƒ½ç‰¹è‰²**ï¼š
- å¢é‡ç´¢å¼•ï¼ˆ~1000 æª”æ¡ˆ/ç§’ï¼‰
- å¤šå±¤å¿«å–ï¼ˆæŸ¥è©¢ <50msï¼‰
- ä¸¦è¡Œè™•ç†
- è¨˜æ†¶é«”å„ªåŒ–ï¼ˆ~100MB / 10k æª”æ¡ˆï¼‰

**æ”¯æ´èªè¨€**ï¼šTypeScriptã€JavaScript

</details>

---

<details>
<summary>ğŸ”Œ ç¨‹å¼åŒ– API</summary>

```typescript
import { AgentIdeMCP } from 'agent-ide';

const mcp = new AgentIdeMCP();

// å»ºç«‹ç´¢å¼•
await mcp.executeTool('code_index', {
  action: 'create',
  path: '/path/to/project'
});

// æœå°‹ç¨‹å¼ç¢¼
const result = await mcp.executeTool('code_search', {
  query: 'UserService',
  path: '/path/to/project'
});
```

</details>

---

<details>
<summary>ğŸ§ª é–‹ç™¼</summary>

```bash
pnpm install      # å®‰è£ä¾è³´
pnpm build        # å»ºç½®
pnpm test         # æ¸¬è©¦
pnpm typecheck    # å‹åˆ¥æª¢æŸ¥
```

</details>

---

<details>
<summary>ğŸ“– æ–‡ä»¶</summary>

- [API æ–‡ä»¶](./API.md) - å®Œæ•´ API åƒè€ƒ
- [è²¢ç»æŒ‡å—](./CONTRIBUTING.md) - é–‹ç™¼æŒ‡å—
- [ç™¼å¸ƒæª¢æŸ¥æ¸…å–®](./PUBLISH_CHECKLIST.md) - ç™¼å¸ƒæµç¨‹

</details>

---

<details>
<summary>ğŸ“„ æˆæ¬Š</summary>

MIT License - æŸ¥çœ‹ [LICENSE](LICENSE) ç­è§£è©³æƒ…

</details>

<details>
<summary>ğŸ¤ è²¢ç»</summary>

æ­¡è¿è²¢ç»ï¼è«‹æŸ¥çœ‹ [CONTRIBUTING.md](./CONTRIBUTING.md)

- ğŸ› [å›å ±å•é¡Œ](https://github.com/vivalalova/agent-ide/issues)
- ğŸ’¬ [åƒèˆ‡è¨è«–](https://github.com/vivalalova/agent-ide/discussions)

</details>

---

**è®“ AI ä»£ç†æ›´è°æ˜åœ°ç†è§£å’Œæ“ä½œç¨‹å¼ç¢¼** ğŸ¤–âœ¨
